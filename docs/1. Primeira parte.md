# 1. Motivação

No semestre 2023.2, fiz a disciplina HACB12 - Laboratório de Arte e Interfaces. Nela, eu criei um pequeno projeto para
gerar artes utilizando a geolocalização do usuário e uma paleta de cores. O projeto consiste em pegar uma imagem
estática utilizando a API do [Mapbox](https://www.mapbox.com/) e então manipular os pixels da imagem utilizando o [Processing](https://processing.org/).
Entretanto, esse projeto foi feito inicialmente para funcionar em um browser e depois fiz um aplicativo android que funciona totalmente com um banco de dados local.
Meu objetivo, é criar um sistema completo e open source para esse projeto, onde as pessoas poderão, além de criar artes nos seus celulares android, interagir com as artes de outras pessoas.

# 2. Requisitos Funcionais

### RF1 -  Cadastro de usuário

 Uma pessoa deve conseguir se cadastrar no sistema utilizando um e-mail e senha, onde esse e-mail será único por usuário.
 Além do e-mail e senha, o usuário deve também fornecer um nome para finalizar o cadastro.
 
### RF2 - Login de usuário

Um usuário já cadastrado no sistema, deve conseguir acessar sua conta utilizando seu e-mail e sua senha informados no
momento do cadastro.

### RF3 - Criar uma paleta de cores

Um usuário logado no sistema, poderá criar paletas de cores para utilizar nas suas artes. Essa paleta deve possuir 3 cores, um nome e também
poderão ser utilizadas por outros usuários.

### RF4 - Criar uma arte de mapa

Um usuário logado no sistema deve conseguir criar uma nova arte. Para isso, ele precisa fornecer sua localização atual,
que será coletada utilizando o SDK do Android. Com a latitude e longitude do usuário, faremos uma busca na API do Mapbox e então
manipularemos os pixels da imagem do mapa com base em uma paleta de cores escolhida pelo usuário. Utilizaremos algum serviço em nuvem
para armazenamento das imagens criadas pelo usuário, esse serviço retornará a URL da imagem criada pelo usuário, que será salva no banco de dados
juntamente com outras informações relativas a imagem, como tamanho e a localidade.

### RF5 - Deletar uma arte de mapa

O usuário também poderá deletar uma arte que já foi criada, caso ele não goste da paleta de cores que utilizou ou simplesmente não queira mais
ter aquela arte no seu perfil.

### RF6 - Perfil de usuário

Todo usuário vai possuir um perfil próprio. Esse perfil vai listar todas as paletas de cores criadas pelo usuário e também
todas as artes criadas por esse usuário.

### RF7 - Buscar um perfil de usuário

Todo usuário vai poder buscar o perfil de um outro usuário e visualizar suas paletas ou artes criadas.

### RF8 - Curtir uma arte de mapa

Todo usuário poderá curtir uma arte de mapa criada por outro usuário.

### RF9 - Comentar uma arte de mapa

Todo usuário poderá comentar uma arte de mapa criada por outro usuário.

### RF10 - Favoritar uma arte de mapa

Todo usuário poderá favoritar artes criadas criadas por outro usuário.

### RF11 - Listar artes favoritas

O usuário terá uma tela onde ele poderá ver uma listagem de todas as suas artes de mapa favoritadas.

# 3. Delimitação do Minimundo para o Banco de dados:

### Usuários (_users_)

- **id** [uuid, primary key, not null]: Identificador único de um usuário.
- **email** [string, 50 caracteres]: Email único de um usuário.
- **password** [string, 128 caracteres]: Senha criptografada de um usuário.
- **name** [string, 60 caracteres]: Nome de um usuário.
- **updatedAt** [timestamp]: Indicador de tempo para sempre que uma entrada sofre alteração.
- **createdAt** [timestamp, not null]: Indicador de quando a entrada foi criada.
- **deletedAt** [timestamp, default: null]: Indicador de quando o soft-delete da entrada foi realizado.
- **isDeleted** [bool, default: false]: Indicador de deleção de uma entrada (soft-delete)

### Paletas de cores (_color_palletes_)

- **id** [uuid, primary key, not null]: Identificador único de uma paleta de cores.
- **userId** [uuid, foreign key, not null]: Identificador do usuário criador dessa paleta de cores.
- **primaryColor** [string, 6 caracteres]: Código hexadecimal da cor primária.
- **secondaryColor** [string, 6 caracteres]: Código hexadecimal da cor secundária.
- **thirdColor** [string, 6 caracteres]: Código hexadecimal da cor terciária.
- **updatedAt** [timestamp]: Indicador de tempo para sempre que uma entrada sofre alteração.
- **createdAt** [timestamp, not null]: Indicador de quando a entrada foi criada.
- **deletedAt** [timestamp, default: null]: Indicador de quando o soft-delete da entrada foi realizado.
- **isDeleted** [bool, default: false]: Indicador de deleção de uma entrada (soft-delete)  

### Artes de Mapa (_map_arts_)

- **id** [uuid, primary key, not null]: Identificador único de uma paleta de cores.
- **userId** [uuid, foreign key, not null]: Identificador do usuário criador dessa paleta de cores.
- **colorPalleteId** [uuid, foreign key, not null]: Identificador da paleta de cores utilizada na arte.
- **title** [string, 50 caracteres, not null]: Título da arte.
- **description** [string, 100 caracteres]: Título da arte.
- **url** [string, 512 caracteres, not null]: URL para acessar a arte de mapa em uma cloud.
- **latitude** [decimal(8, 6)]: Latitude da localização do usuário quando a arte foi criada.
- **longitude** [decimal(9, 6)]: Longitude da localização do usuário quando a arte foi criada.
- **updatedAt** [timestamp]: Indicador de tempo para sempre que uma entrada sofre alteração.
- **createdAt** [timestamp, not null]: Indicador de quando a entrada foi criada.
- **deletedAt** [timestamp, default: null]: Indicador de quando o soft-delete da entrada foi realizado.
- **isDeleted** [bool, default: false]: Indicador de deleção de uma entrada (soft-delete)  

### Comentários de usuários em Artes de Mapa (_users_comments_map_arts_)

- **id** [uuid, primary key, not null]: Identificador único da tabela.
- **mapArtCommentedId** [uuid, foreign key, not null]: Identificador da arte de mapa que está sendo comentada.
- **userWhoCommentedId** [uuid, foreign key, not null]: Usuário que fez o comentário.
- **comment** [string, 256 caracteres]: O texto do comentário.
- **updatedAt** [timestamp]: Indicador de tempo para sempre que uma entrada sofre alteração.
- **createdAt** [timestamp, not null]: Indicador de quando a entrada foi criada.
- **deletedAt** [timestamp, default: null]: Indicador de quando o soft-delete da entrada foi realizado.
- **isDeleted** [bool, default: false]: Indicador de deleção de uma entrada (soft-delete)

### Curtidas de usuários em Artes de Mapa (_users_likes_map_arts_)

- **id** [uuid, primary key, not null]: Identificador único da tabela.
- **postLikedId** [uuid, foreign key, not null]: Identificador da arte de mapa que está sendo curtida.
- **userWhoLikedId** [uuid, foreign key, not null]: Identificador do usuário que curtiu.
- **updatedAt** [timestamp]: Indicador de tempo para sempre que uma entrada sofre alteração.
- **createdAt** [timestamp, not null]: Indicador de quando a entrada foi criada.
- **deletedAt** [timestamp, default: null]: Indicador de quando o soft-delete da entrada foi realizado.
- **isDeleted** [bool, default: false]: Indicador de deleção de uma entrada (soft-delete)

### Usuários que seguem outros usuários (_users_follows_users_)

- **id** [uuid, primary key, not null]: Identificador único da tabela.
- **followingUserId** [uuid, foreign key, not null]: Identificador do usuário que está seguindo.
- **followedUserId** [uuid, foreign key, not null]: Identificador do usuário que está sendo seguido.
- **updatedAt** [timestamp]: Indicador de tempo para sempre que uma entrada sofre alteração.
- **createdAt** [timestamp, not null]: Indicador de quando a entrada foi criada.
- **deletedAt** [timestamp, default: null]: Indicador de quando o soft-delete da entrada foi realizado.
- **isDeleted** [bool, default: false]: Indicador de deleção de uma entrada (soft-delete)

### Usuários que favoritam posts (_users_favorites_posts_)

- **id** [uuid, primary key, not null]: Identificador único da tabela.
- **userId** [uuid, foreign key, not null]: Identificador do usuário que está favoritando um post.
- **postId** [uuid, foreign key, not null]: Identificador do post que está sendo favoritado.
- **updatedAt** [timestamp]: Indicador de tempo para sempre que uma entrada sofre alteração.
- **createdAt** [timestamp, not null]: Indicador de quando a entrada foi criada.
- **deletedAt** [timestamp, default: null]: Indicador de quando o soft-delete da entrada foi realizado.
- **isDeleted** [bool, default: false]: Indicador de deleção de uma entrada (soft-delete)

# 4. Modelo Conceitual

O modelo conceitual do banco de dados foi criado utilizando a ferramenta [BrModelo](https://www.brmodeloweb.com/lang/pt-br/index.html).

![Modelo conceitual para o banco de dados do Martp](../assets/modelo_conceitual.png)

# 5. Modelo Lógico

O modelo lógico do banco de dados foi criado utilizando a ferramenta [DBDiagram](https://dbdiagram.io/).

![Modelo lógico para o banco de dados do Martp](../assets/modelo_logico.png)